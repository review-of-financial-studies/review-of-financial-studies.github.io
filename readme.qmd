---
title: "README Checker"
format:
    html:
        css: assets/css/readme.css
---

```{=html}
<div class="readme-checker">
  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
    <p class="progress-text"><span id="answeredCount">0</span> of <span id="totalCount">0</span> items addressed</p>
  </div>

  <main id="checklist"></main>

  <div class="summary" id="summary">
    <div class="summary-stats">
      <div class="stat">
        <div class="stat-number" id="completePct">0%</div>
        <div class="stat-label">Complete</div>
      </div>
      <div class="stat">
        <div class="stat-number" id="answeredStat">0</div>
        <div class="stat-label">Items Checked</div>
      </div>
      <div class="stat">
        <div class="stat-number" id="remainingStat">0</div>
        <div class="stat-label">Remaining</div>
      </div>
    </div>
    <div id="summaryMessage"></div>
  </div>

  <footer class="checker-footer">
    <p>Template adapted from the <a href="https://social-science-data-editors.github.io/template_README/" target="_blank" rel="noopener">Social Science Data Editors' README template</a></p>
  </footer>
</div>

<script>
  const checklistData = [
    {
      title: "Title and Overview",
      questions: [
        {
          text: "Does your README include the exact title of the paper and author names?",
          example: `README for "Minimum Wages and Employment Dynamics"
Authors: Jane Doe (University of Example), John Smith (Research Institute)`
        },
        {
          text: "Does your README provide a short overview paragraph describing what the package contains and how to proceed?",
          example: `This replication package contains code and data required to reproduce all tables and figures in the paper. The workflow consists of (i) downloading and cleaning raw data from public sources, (ii) constructing the final analysis dataset, and (iii) running estimation routines that generate the results. All steps can be executed by running the main script programs/main.do. Total runtime is approximately 2 hours.`
        }
      ]
    },
    {
      title: "Data Availability and Provenance",
      questions: [
        {
          text: "Does your README state whether the paper uses external (non-simulated) data?",
          example: `This paper involves analysis of external data.

<span class="or-divider">— or —</span>

This paper does not involve analysis of external data; all data are simulated within the provided code.

<span class="or-divider">— or —</span>

All data are publicly available and downloaded automatically by the replication code.`
        },
        {
          text: "Does your README include a statement certifying the authors have rights to use the data?",
          example: `I certify that the author(s) of the manuscript have legitimate access to and permission to use the data used in this manuscript.

<span class="or-divider">— or —</span>

I certify that the author(s) of the manuscript have documented permission to redistribute/publish the data contained within this replication package.`
        },
        {
          text: "Does your README specify what license governs the data?",
          example: `The data are distributed under a Creative Commons Attribution 4.0 (CC-BY 4.0) license. See LICENSE.txt for details.`
        },
        {
          text: "Does your README state the overall public availability status of the data?",
          example: `All data are publicly available.

<span class="or-divider">— or —</span>

Some data cannot be made publicly available due to confidentiality / licensing restrictions.

<span class="or-divider">— or —</span>

All data are included in the replication package.`
        }
      ]
    },
    {
      title: "Data Source Details",
      questions: [
        {
          text: "For each data source, does your README document: source, format, access method, and whether it's included?",
          example: `The unemployment rate data is downloaded from the Federal Reserve Economic Data (FRED) database maintained by the Federal Reserve Bank of St. Louis.

Data source: Federal Reserve Bank of St. Louis, FRED
Series ID: UNRATE
URL: https://fred.stlouisfed.org/series/UNRATE
Access: Public use, no registration required
Format: CSV
License: Public domain (U.S. government data)
Download method: The code automatically downloads the data via the URL
Provided: Yes`
        },
        {
          text: "Does your README include a summary table of all datasets?",
          example: `| Dataset | Source | Format | Provided | License |
|---------|--------|--------|----------|---------|
| UNRATE | FRED | CSV | Yes | Public domain |
| CPS | Census | Stata | No | Restricted |`
        },
        {
          text: "Does your README indicate whether a data dictionary or codebook is provided, and where?",
          example: `Variable labels are included in the pseudo-data .dta files.

<span class="or-divider">— or —</span>

A full codebook that describes each variable and table is provided in codebook.xlsx.`
        }
      ]
    },
    {
      title: "Computational Requirements",
      questions: [
        {
          text: "Does your README list all required software and versions?",
          example: `The code was last run using Stata 18 MP. The required user-written packages are estout and reghdfe, both included in the ado directory.

<span class="or-divider">— or —</span>

Software: Python 3.11, R 4.3.0
Python packages: pandas 2.0.0, numpy 1.24.0, statsmodels 0.14.0
R packages: tidyverse 2.0.0, fixest 0.11.0`
        },
        {
          text: "Does your README describe how to install dependencies (setup script or instructions)?",
          example: `The replication package includes setup.do, which installs all required packages and creates the necessary directory structure.

<span class="or-divider">— or —</span>

Various Python packages recorded in the pyproject.toml and uv.lock. By running uv sync, the required packages and their versions are installed.`
        },
        {
          text: "Does your README address random number generation and seed setting?",
          example: `Random seed is set at line 12 of program programs/config.do

<span class="or-divider">— or —</span>

The analysis relies on random number generation, but setting a seed is not possible.

<span class="or-divider">— or —</span>

No pseudo-random number generator is used in the analysis.`
        },
        {
          text: "Does your README provide an estimate of runtime?",
          example: `Approximate time needed to reproduce the analyses on a standard (2025) desktop machine: 10-60 minutes`
        },
        {
          text: "Does your README state the required disk space?",
          example: `Approximate storage space needed: 25 MB - 250 MB`
        },
        {
          text: "Does your README describe the machine on which the code was last run?",
          example: `The code was last run on a 4-core laptop running macOS 14 with 16GB RAM and approximately 50GB of free disk space.`
        }
      ]
    },
    {
      title: "Program Description",
      questions: [
        {
          text: "Does your README identify the main entry point for replication?",
          example: `Running programs/main.do executes all steps in the correct order.

<span class="or-divider">— or —</span>

To replicate all results, run: python main.py`
        },
        {
          text: "Does your README describe any ordering dependencies or special execution rules?",
          example: `Programs in 02_analysis must be run sequentially, as later scripts depend on outputs from earlier ones.

<span class="or-divider">— or —</span>

All scripts are independent and can be run in any order after the data preparation step.`
        },
        {
          text: "Does your README specify the license for the code?",
          example: `The code is licensed under the MIT License. See LICENSE.txt for details.`
        }
      ]
    },
    {
      title: "Replication Instructions",
      questions: [
        {
          text: "Does your README provide step-by-step instructions for replicators?",
          example: `1. Ensure you have Python 3.13 installed
2. Ensure you have uv installed
3. Run uv sync to install dependencies
4. Ensure you have an active internet connection
5. Run uv run python main.py`
        },
        {
          text: "Does your README note any manual or non-automated steps?",
          example: `No manual steps are required; all procedures are fully automated.

<span class="or-divider">— or —</span>

Figure 1 must be generated manually using Excel following the instructions below.`
        }
      ]
    },
    {
      title: "Output Mapping",
      questions: [
        {
          text: "Does your README state which tables and figures are reproduced by the code?",
          example: `All tables and figures in the main paper.

<span class="or-divider">— or —</span>

All tables and figures in the paper and online appendix.`
        },
        {
          text: "Does your README include a mapping of outputs to programs?",
          example: `| Output | Program | Output file |
|--------|---------|-------------|
| Table 1 | 02_analysis/table1.do | results/table1.tex |
| Figure 1 | 02_analysis/figure1.R | figures/figure1.pdf |
| Table A1 | 03_appendix/tableA1.do | results/tableA1.tex |`
        }
      ]
    },
    {
      title: "References and Acknowledgements",
      questions: [
        {
          text: "Does your README include formal citations for all datasets used?",
          example: `Federal Reserve Bank of St. Louis. "Unemployment Rate [UNRATE]." FRED, Federal Reserve Bank of St. Louis. https://fred.stlouisfed.org/series/UNRATE (accessed January 15, 2025).`
        },
        {
          text: "Does your README acknowledge any templates or external materials used?",
          example: `This README template was adapted from the Social Science Data Editors' README template, available at https://social-science-data-editors.github.io/template_README/`
        }
      ]
    }
  ];

  let totalQuestions = 0;
  let answeredQuestions = 0;

  function init() {
    const container = document.getElementById('checklist');
    
    checklistData.forEach((section, sIdx) => {
      const sectionEl = document.createElement('div');
      sectionEl.className = 'section';
      sectionEl.innerHTML = `
        <div class="section-header" data-section="${sIdx}">
          <span class="section-number" id="sectionNum${sIdx}">${sIdx + 1}</span>
          <h2>${section.title}</h2>
        </div>
        <div class="section-content" id="sectionContent${sIdx}"></div>
      `;
      container.appendChild(sectionEl);

      const contentEl = document.getElementById(`sectionContent${sIdx}`);
      
      section.questions.forEach((q, qIdx) => {
        totalQuestions++;
        const qId = `q${sIdx}_${qIdx}`;
        
        const questionEl = document.createElement('div');
        questionEl.className = 'question';
        questionEl.id = qId;
        questionEl.innerHTML = `
          <div class="question-text">${q.text}</div>
          <div class="checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" data-section="${sIdx}" data-question="${qIdx}" onchange="updateProgress()">
              <span>Yes, my README includes this</span>
            </label>
          </div>
          <button class="example-toggle" onclick="toggleExample('${qId}')">
            <span class="arrow">▶</span> Show best practice example
          </button>
          <div class="example-content" id="${qId}_example">
            <h4>Example</h4>
            <pre>${q.example}</pre>
          </div>
        `;
        contentEl.appendChild(questionEl);
      });
    });

    document.getElementById('totalCount').textContent = totalQuestions;
    updateProgress();
  }

  function toggleExample(qId) {
    const exampleEl = document.getElementById(`${qId}_example`);
    const toggleBtn = exampleEl.previousElementSibling;
    
    exampleEl.classList.toggle('visible');
    toggleBtn.classList.toggle('open');
    
    if (exampleEl.classList.contains('visible')) {
      toggleBtn.innerHTML = '<span class="arrow">▶</span> Hide example';
    } else {
      toggleBtn.innerHTML = '<span class="arrow">▶</span> Show best practice example';
    }
  }

  function updateProgress() {
    const checkboxes = document.querySelectorAll('.readme-checker input[type="checkbox"]');
    answeredQuestions = 0;
    const sectionCounts = {};

    checkboxes.forEach(cb => {
      const section = cb.dataset.section;
      if (!sectionCounts[section]) {
        sectionCounts[section] = { total: 0, checked: 0 };
      }
      sectionCounts[section].total++;
      
      if (cb.checked) {
        answeredQuestions++;
        sectionCounts[section].checked++;
      }

      const questionEl = cb.closest('.question');
      if (cb.checked) {
        questionEl.classList.add('answered');
      } else {
        questionEl.classList.remove('answered');
      }
    });

    // Update section indicators
    Object.keys(sectionCounts).forEach(sIdx => {
      const numEl = document.getElementById(`sectionNum${sIdx}`);
      if (sectionCounts[sIdx].checked === sectionCounts[sIdx].total) {
        numEl.classList.add('complete');
      } else {
        numEl.classList.remove('complete');
      }
    });

    // Update progress bar
    const pct = Math.round((answeredQuestions / totalQuestions) * 100);
    document.getElementById('progressFill').style.width = `${pct}%`;
    document.getElementById('answeredCount').textContent = answeredQuestions;
    
    // Update summary
    document.getElementById('completePct').textContent = `${pct}%`;
    document.getElementById('answeredStat').textContent = answeredQuestions;
    document.getElementById('remainingStat').textContent = totalQuestions - answeredQuestions;

    // Generate missing items list
    const messageEl = document.getElementById('summaryMessage');
    if (answeredQuestions === totalQuestions) {
      messageEl.innerHTML = '<div class="complete-message">✓ Your README addresses all recommended elements. Well done!</div>';
    } else {
      const missing = [];
      checkboxes.forEach(cb => {
        if (!cb.checked) {
          const questionText = cb.closest('.question').querySelector('.question-text').textContent;
          missing.push(questionText);
        }
      });
      
      messageEl.innerHTML = `
        <div class="missing-list">
          <h4>Items not yet addressed:</h4>
          <ul>
            ${missing.slice(0, 5).map(m => `<li>${m}</li>`).join('')}
            ${missing.length > 5 ? `<li><em>...and ${missing.length - 5} more</em></li>` : ''}
          </ul>
        </div>
      `;
    }
  }

  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
</script>
```
